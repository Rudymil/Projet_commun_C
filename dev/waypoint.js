var myIcon = new L.divIcon({
	className: 'leaflet-div-icon-perso'
});

L.Routing.control({
	waypoints: [
		L.latLng(43.6026628, 3.8776791),
		L.latLng(43.6026417, 3.877659),
		L.latLng(43.602617, 3.8776495),
		L.latLng(43.6025914, 3.8776515),
		L.latLng(43.6025677, 3.8776651),
		L.latLng(43.6025485, 3.8776885),
		L.latLng(43.6025358, 3.8777193),
		L.latLng(43.6025254, 3.8777788),
		L.latLng(43.602534, 3.8778122),
		L.latLng(43.6025508, 3.8778415),
		L.latLng(43.6025733, 3.877862),
		L.latLng(43.6025994, 3.8778717),
		L.latLng(43.6026264, 3.8778696),
		L.latLng(43.6026515, 3.8778559),
		L.latLng(43.6026655, 3.8778428),
		L.latLng(43.6030224, 3.8781617),
		L.latLng(43.6036556, 3.8789957),
		L.latLng(43.6036899, 3.8790422),
		L.latLng(43.6036285, 3.8791277),
		L.latLng(43.6034874, 3.8793599),
		L.latLng(43.6035094, 3.8793881),
		L.latLng(43.603541, 3.8794301),
		L.latLng(43.6036074, 3.8795169),
		L.latLng(43.6037693, 3.8792667),
		L.latLng(43.6037957, 3.8793013),
		L.latLng(43.6038904, 3.8794304),
		L.latLng(43.603868, 3.879458),
		L.latLng(43.6040088, 3.8796544),
		L.latLng(43.6040268, 3.8796304),
		L.latLng(43.6040864, 3.87972),
		L.latLng(43.604068, 3.8797419),
		L.latLng(43.6041961, 3.8799227),
		L.latLng(43.6042105, 3.8799037),
		L.latLng(43.604229, 3.8798804),
		L.latLng(43.6042382, 3.8798687),
		L.latLng(43.6043366, 3.8800074),
		L.latLng(43.6045388, 3.8802887),
		L.latLng(43.604566, 3.8802567),
		L.latLng(43.6047652, 3.8805484),
		L.latLng(43.6047892, 3.880518),
		L.latLng(43.6048339, 3.8804634),
		L.latLng(43.6049044, 3.8805617),
		L.latLng(43.6049994, 3.8806955),
		L.latLng(43.6055725, 3.8815384),
		L.latLng(43.6055833, 3.8815555),
		L.latLng(43.6056372, 3.8816691),
		L.latLng(43.6056687, 3.8818125),
		L.latLng(43.6056868, 3.8819819),
		L.latLng(43.6057026, 3.8820639),
		L.latLng(43.6057116, 3.8821156),
		L.latLng(43.6056441, 3.8821897),
		L.latLng(43.6056402, 3.8822644),
		L.latLng(43.6056019, 3.8823707),
		L.latLng(43.6055914, 3.8824027),
		L.latLng(43.6054806, 3.8829557),
		L.latLng(43.6053149, 3.8837479),
		L.latLng(43.6052814, 3.8839142),
		L.latLng(43.6052648, 3.8840161),
		L.latLng(43.6053508, 3.8842396),
		L.latLng(43.605787, 3.8855419),
		L.latLng(43.6057963, 3.8855676),
		L.latLng(43.6059642, 3.8860388),
		L.latLng(43.6059795, 3.8860777),
		L.latLng(43.605995, 3.8861133),
		L.latLng(43.6058427, 3.8866239),
		L.latLng(43.6058322, 3.8866586),
		L.latLng(43.6055792, 3.8875336),
		L.latLng(43.6055116, 3.8877649),
		L.latLng(43.6055082, 3.8877758),
		L.latLng(43.6054706, 3.8879197),
		L.latLng(43.6054524, 3.8880248),
		L.latLng(43.6052273, 3.8882893),
		L.latLng(43.6052024, 3.8883224),
		L.latLng(43.6048558, 3.8887977),
		L.latLng(43.6048795, 3.8888319),
		L.latLng(43.6048626, 3.8888547)
	],
	lineOptions: {
		styles: [{
			color: 'red',
			opacity: 0.5,
			weight: 5
		}],
	},
	waypointMode:snap,
	createMarker: function(waypointIndex, waypoint) {
		return L.marker(
			waypoint.latLng, { 
				draggable: true, 
				icon: L.divIcon({
					className: 'leaflet-div-icon-perso'
				})
			}
		);
	}
}).addTo(map);